environments:
  tasks: 
    - "reach-v3"
    # - "push-v3" 
    # - "pick-place-v3"
  seeds: [10] # 5 seeds
  num_parallel_envs: 16  # NEW: Run 16 environments in parallel
  

hyperparameters:
  total_steps: 150000
  start_steps: 10000
  max_episode_steps: 400
  batch_size: 2048  # OPTIMIZED: 8x larger for M3 (was 256)
  eval_interval: 10000
  replay_buffer_size: 5000000  # OPTIMIZED: 5x larger with 64GB RAM (was 1M)
  hidden_dims: [256, 256, 256]
  eval_episodes: 10
  updates_per_step: 4  # OPTIMIZED: 4 gradient updates per env step (was 1)
  
  # Default Hyperparameters (Base SAC)
  defaults:
    gamma: 0.99
    tau: 0.005
    actor_lr: 0.0003
    critic_lr: 0.0003
    alpha_lr: 0.0003
    init_alpha: 0.2  
    auto_alpha: True

    target_mean_success: 0.8 
    patience: 3            

  # Per-Task Overrides 
  tasks:
    reach-v3:
      init_alpha: 0.2

    push-v3:
      init_alpha: 1.0
      target_entropy_scale: 1.0
      
    pick-place-v3:
      init_alpha: 1.0
      target_mean_success: 0.8

pruning:
  sparsity: 0.8

# M3 Optimization Settings
optimization:
  use_metal_gpu: true  # Enable M3 GPU acceleration
  jax_platforms: "cpu,gpu"
  xla_flags: "--xla_gpu_force_compilation_parallelism=1"
  # Compile with larger batches for better GPU utilization
  compile_batch_sizes: [2048, 4096]
